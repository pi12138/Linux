# linux 环境变量

## 环境变量都有哪些类型

### 环境变量有很多种类一般有2种划分形式
- 按变量的周期划分
  - 永久变量：
    通过修改配置文件，配置之后变量永久生效
  - 临时性变量：
    使用命令如export等命令设置，设置之后马上生效。当关闭shell的时候失效（这种主要用于测试比较多）

- 显示所有变量：`[root@xxx]# env`
  
- 按照影响范围分
  - 用户变量（局部变量）：修改的设置只对某个用户的路径或执行起作用
  - 系统变量（全局变量）：影响范围是整个系统
  
## linux 变量设置方法

- **显示环境变量**
    设置变量之前，我们要先知道如何查看变量。路径变量path
    `[root@mail ~]#echo $PATH`
### 临时修改设置变量

  - 刚刚说的环境变量按照生存周期，临时变量一般是用于测试或学习的时候使用临时变量对于修改永久变量之前先确定软件运行或命令执行是否有问题很有帮助

  - 常见的设置方法是通过命令
    export指定linux最常见的就是lamp配置，指定软件运行路径为例。
    比如指定php 或mysql执行的路径变量
    ```shell
    [root@mail ~]#export PATH=$PATH:/usr/local/php/bin  
    <!-- 为php环境 -->
    [root@mail ~]#export PATH=$PATH:/usr/local/mysql/bin 
    <!-- 为mysql环境 -->
    <!-- 如果设置多个可以采用格式[root@mail ~] -->
    #export PATH=$PATH:/usr/local/mysql/bin;
    ```
  - **注意**：
   这是临时变量的设置方法，只对当前会话有效。这个shell终端关闭或者另外复制一个都是找不到这个变量的。

### 永久变量设置

-  前面介绍的变量设置关闭会话失效，对于需要写入系统变量永久生效的需要修改配置文件。一般有用户级别的变量设置，和全局系统级别设置。
-  **修改用户变量**    
   -  linux下每个用户宿主目录下都有一个 ~/.bash_profile文件，里面记录直接加到文件里面，最后面export path=$path:/path1:/path2

- **全局变量**
  - 系统环境变量linux支持多用户多任务，如果要让所有用户都采用相同的变量设置。修改/etc/profile文件，通过vi或vim增加变量
  
- 改变量之后，需要马上生效变量设置。
  可执行`[root@mail ~]source /etc/profile`


## 其他注意事项

- 除了常见的变量path之外，还有很多系统变量我们可以通过echo来查看设置。
    比如LANG系统语言，HOME宿主目录，SHELL脚本shell目录等
- 设置path路径的时候，千万不要设置当前目录./加到变量里面。容易出现不可估量的错误和问题。另外加入路径的时候不要用相对路径，用绝对路径。如果遇到需要写入变量的时候，可以先用set 或者 export设置临时变量来确定，没有问题再写入变量脚本文件里面。